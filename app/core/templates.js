acronymTemplate="<div>    <div class='container-fluid'>      <div class='mra_panel'>        <div class=\"mra_page_title\">          <h2>Acronyms</h2>          <hr>        </div>        <div class='row'>            <div class='col-md-2'></div>            <div class='col-md-8'>                <table class='table table-responsive table-hover' align='center'>                        {{#each mraOutputs.acronyms}}                            <tr>                                <td>{{acronym}}</td>                                <td>{{value}}</td>                            </tr>                        {{/each}}                </table>            </div>            <div class='col-md-2'></div>        </div>    </div>  </div>    <input type='hidden' id='inputPage' value='acronymPage'></div>";
criteriaTemplate="<div>    <div class='container-fluid'>      <div class='mra_panel'>        <div class=\"mra_page_title\">          <h2>Criteria</h2>          <hr>        </div>        <div class='row'>            <div class='col-md-2 text-center' id='blackLinks'><br><a href='http://www.dodmrl.com/MRL_Deskbook_V2.4%20August_2015.pdf'>MRL Deskbook: V2.4</a></div>            <div class='col-md-8 text-center'>                Show Levels<br>                <form>                    <label class='checkbox-inline'><input type='checkbox' ng-init='mrl_all=true' ng-model='mrl_all'>All</label>                    <label class='checkbox-inline'><input type='checkbox' ng-checked='mrl_all' ng-model='mrl_0'>1</label>                    <label class='checkbox-inline'><input type='checkbox' ng-checked='mrl_all' ng-model='mrl_1'>2</label>                    <label class='checkbox-inline'><input type='checkbox' ng-checked='mrl_all' ng-model='mrl_2'>3</label>                    <label class='checkbox-inline'><input type='checkbox' ng-checked='mrl_all' ng-model='mrl_3'>4</label>                    <label class='checkbox-inline'><input type='checkbox' ng-checked='mrl_all' ng-model='mrl_4'>5</label>                    <label class='checkbox-inline'><input type='checkbox' ng-checked='mrl_all' ng-model='mrl_5'>6</label>                    <label class='checkbox-inline'><input type='checkbox' ng-checked='mrl_all' ng-model='mrl_6'>7</label>                    <label class='checkbox-inline'><input type='checkbox' ng-checked='mrl_all' ng-model='mrl_7'>8</label>                    <label class='checkbox-inline'><input type='checkbox' ng-checked='mrl_all' ng-model='mrl_8'>9</label>                    <label class='checkbox-inline'><input type='checkbox' ng-checked='mrl_all' ng-model='mrl_9'>10</label>                </form>            </div>            <div class='col-md-2'></div>        </div>        <div class='row'>            <div class='col-xs-12'>                <table id=\"mrl_milestone_table\" class='table table-responsive' style='max-width:800px;' id='blackLinks' align='center'>                        <th></th>                        <th align='center'>Milestones:</th>                        <th style=\"position: relative;\">1</th>                        <th style=\"position: relative;\">2</th>                        <th style=\"position: relative;\">3</th>                        <th style=\"position: relative;\">4</th>                        <th style=\"position: relative; border-left: 1px solid #88b7d5;\">5                            <div class=\"mrl_ms_level_locator\">                                <div class='mrl_ms_level mra_arrow_box'>A</div>                                <div class=\"mra_arrow_box_arrow_down\"></div>                            </div>                        </th>                        <th style=\"position: relative;\">6</th>                        <th style=\"position: relative; border-left: 1px solid #88b7d5\">7                            <div class=\"mrl_ms_level_locator\">                                <div class='mrl_ms_level mra_arrow_box'>B</div>                                <div class=\"mra_arrow_box_arrow_down\"></div>                            </div>                        </th>                        <th style=\"position: relative;\">8</th>                        <th style=\"position: relative; border-left: 1px solid #88b7d5\">9                            <div class=\"mrl_ms_level_locator\">                                <div class='mrl_ms_level mra_arrow_box'>C</div>                                <div class=\"mra_arrow_box_arrow_down\"></div>                            </div>                        </th>                        <th style=\"position: relative;\">10</th>                </table>            </div>        </div>        <div class='row'>            <div class='col-xs-12'>                <table class='table table-responsive mra_divided_table' style='max-width:800px;' id='blackLinks' align='center'>                        <th align='center'>Thread</th>                        <th></th>                        <th style=\"position: relative;\">Sub Thread                        </th>                        <th style=\"position: relative;\" level-id='mrl_0' ng-show='mrl_0 || mrl_all'>1</th>                        <th style=\"position: relative;\" level-id='mrl_1' ng-show='mrl_1 || mrl_all'>2</th>                        <th style=\"position: relative;\" level-id='mrl_2' ng-show='mrl_2 || mrl_all'>3</th>                        <th style=\"position: relative;\" level-id='mrl_3' ng-show='mrl_3 || mrl_all'>4</th>                        <th style=\"position: relative;\" level-id='mrl_4' ng-show='mrl_4 || mrl_all'>5                        </th>                        <th style=\"position: relative;\" level-id='mrl_5' ng-show='mrl_5 || mrl_all'>6</th>                        <th style=\"position: relative;\" level-id='mrl_6' ng-show='mrl_6 || mrl_all'>7                        </th>                        <th style=\"position: relative;\" level-id='mrl_7' ng-show='mrl_7 || mrl_all'>8</th>                        <th style=\"position: relative;\" level-id='mrl_8' ng-show='mrl_8 || mrl_all'>9                        </th>                        <th style=\"position: relative;\" level-id='mrl_9' ng-show='mrl_9 || mrl_all'>10</th>                        {{#each mraOutputs.threads}}                            <tr>                                <td class='mra_divided_table_top_level' rowspan= {{numSubThreads}}>                                  <a href ng-click='showThread_{{threadId}} = !showThread_{{threadId}}'>                                    {{name}}</a>                                </td>                                <td class='mra_divided_table_top_level' rowspan= {{numSubThreads}}>                                    <a href ng-click='showThread_{{threadId}} = !showThread_{{threadId}}'>                                        <div class='mra_arrow_right' ng-show='!showThread_{{threadId}}'></div>                                        <div class='mra_arrow_down' ng-show='showThread_{{threadId}}'></div>                                    </a>                                </td>                                {{#each subThreads}}                                    {{#if @index}}                                        <tr>                                    {{/if}}                                    <td ng-show='showThread_{{../threadId}}'>                                        <h5>{{name}}</h5></td>                                    {{#each subThreadLevels}}                                        <td level-id=\"mrl_{{@index}}\" ng-show='showThread_{{../../threadId}} && (mrl_{{@index}} || mrl_all)'>                                            <h5>{{{criteriaText}}}</h5></td>                                    {{/each}}                                    </tr>                                {{/each}}                        {{/each}}                </table>            </div>        </div>        <input type='hidden' id='inputPage' value='criteriaPage'>    </div>  </div>    <script type=\"text/javascript\">        $(document).ready(function() {            var checkBoxes = document.querySelectorAll('input[ng-model*=mrl_]');            var tds = document.querySelectorAll('[level-id*=mrl_]');            for (var i=0; i<checkBoxes.length; i++) {              var checkBox = checkBoxes[i];              var ngModel = checkBox.getAttribute('ng-model');              if (ngModel == 'mrl_all') {                  checkBox.addEventListener(\"click\", allClicked);              } else {                  checkBox.addEventListener(\"click\", singleLevelClicked);              };            };            function allClicked(event) {                if (!event.target.checked) {                    for (var j=0; j<tds.length; j++) {                      var td = tds[j];                      td.style.display = \"none\";                    };                } else {                    for (var j=0; j<tds.length; j++) {                      var td = tds[j];                      td.style.display = \"\";                      td.checked = true;                    };                    for (var k=0; k<checkBoxes.length; k++) {                      var box = checkBoxes[k];                      box.checked = true;                    };                };            };        });        function singleLevelClicked(event) {            var allCheckbox = document.querySelector('[ng-model=mrl_all]');            allCheckbox.checked = false;            var clickedLevel = this.getAttribute('ng-model');            var levelTDs = document.querySelectorAll('[level-id=' + clickedLevel + ']');            var clickedOn = event.target.checked;            for (l=0; l<levelTDs.length; l++) {              var box = levelTDs[l];              changeDisplay(box, clickedOn);            };        };        function changeDisplay(element, on) {            if (!on) {                element.style.display = \"none\"            } else {                element.style.display = \"\"            };        }    </script>";
dashboardTemplate="<div class='container-fluid'>  <div class=\"mra_panel\">    <div class=\"mra_page_title\">      <h2>Dashboard</h2>      <hr>    </div>    <div class='question' align='center'>  		{{mraOutputs.assessment.scope}}  </div>    <div align='center'>      <table id='dashboardtable' class='table table-responsive' style='max-width:85%; background: #f5f5f5;' align='center'>      <th align='center'>Thread</th><th>Sub Thread</th>        <th class=\"t-centered\">1</th>        <th class=\"t-centered\">2</th>        <th class=\"t-centered\">3</th>        <th class=\"t-centered\">4</th>        <th class=\"t-centered\">5</th>        <th class=\"t-centered\">6</th>        <th class=\"t-centered\">7</th>        <th class=\"t-centered\">8</th>        <th class=\"t-centered\">9</th>        <th class=\"t-centered\">10</th>        <th>Completion Date</th>      {{#each mraOutputs.threadStatus}}          <tr class=\"dash\"><td class=\"dash\">{{threadName}}</td><td class=\"dash\">{{subThreadName}}</td>            {{#each statuses}}              <td class=\"dash t-centered\" ng-show='{{this}}==0' style='background-color:#cfd8dc'></td>              <td class=\"dash t-centered\" ng-show='{{this}}==1' style='background-color:#77c577; font-size: 1.6em;'>&#x2713;</td>              <!-- <td class=\"dash\" ng-show='{{this}}==2' style='background-color:red'><span class='glyphicon glyphicon-remove'></span></td> -->              <td class=\"dash t-centered\" ng-show='{{this}}==2' style='background-color:#c57777; font-size: 1.8em;'>&#x2715;</td>              <td class=\"dash t-centered\" ng-show='{{this}}==3' style='background-color:#779dc5'>&#x2796;</td>            {{/each}}            <td class=\"dash\">{{date}}</td>            </tr>      {{/each}}      </table>    </div>    <br>    <br>    <div align='center'>      <a href onclick='$(\"#functionToCall\").val(\"getMmpPage\")' ng-click='run()'><button class=\"btn btn-primary buttonRounded\" style='margin:10px'>Action Items</button></a>      <a href onclick='$(\"#functionToCall\").val(\"getNotApplicablePage\")' ng-click='run()'><button class=\"btn btn-primary buttonRounded\" style='margin:10px'>Not Applicable Items</button></a>      <a href onclick='$(\"#functionToCall\").val(\"getSkippedPage\")' ng-click='run()'><button class=\"btn btn-primary buttonRounded\" style='margin:10px'>Skipped Items</button></a>      <a href id='saveAsImage'><button class=\"btn btn-primary\" style='margin:10px'>Save as image</button></a>    </div>    <input type='hidden' id='inputPage' value='dashboardPage'>  </div>  <div id=\"img-out\">  </div></div><script>  $( document ).ready(function() {    var saveButton = document.getElementById('saveAsImage');    saveButton.addEventListener('click', function() {      html2canvas($(\"#dashboardtable\"), {        onrendered: function(canvas) {          theCanvas = canvas;          canvas.id = 'dashCanvas';          canvas.style.display = 'none';          var imgDiv = document.querySelector('#img-out');          imgDiv.appendChild(canvas);          promptSaveFile(canvas);        }      });    });    function promptSaveFile(canvas) {      try {        window.navigator.msSaveBlob(canvas.msToBlob(), \"MRAdashboard.png\");      } catch(err) {        canvas.toBlob(function(blob) {          blobUrl = window.URL.createObjectURL(blob);          imgLink = createHiddenDownloadLink(blobUrl);          imgLink.click();        });      };    };    function createHiddenDownloadLink(blobUrl) {      var imgLink = document.createElement(\"a\");      imgLink.download = \"MRAdashboard.png\";      imgLink.href = blobUrl;      imgLink.style.display = 'none';      document.querySelector('#img-out').appendChild(imgLink);      return imgLink;    };  });</script>";
definitionTemplate="<div>    <div class='container-fluid'>      <div class='mra_panel'>        <div class=\"mra_page_title\">          <h2>Definitions</h2>          <hr>        </div>        <div class='row'>            <div class='col-md-1'></div>            <div class='col-md-10'>                <table class='table table-responsive table-hover' align='center'>                        {{#each mraOutputs.definitions}}                            <tr>                                <td>{{term}}</td>                                <td>{{definition}}</td>                            </tr>                        {{/each}}                </table>            </div>            <div class='col-md-1'></div>        </div>    </div>  </div>    <input type='hidden' id='inputPage' value='definitionPage'></div>";
footerTemplate="<div class='mra_footer'></div></div>";
genericNavigationTemplate="<div id='blackLinks'>  <div class='container-fluid'>  <div class='mra_panel'>    <div class=\"mra_page_title\">      <h2>{{pageTitle}}</h2>      <hr>    </div>    <div class='row'>      <div class='col-lg-1'></div>      <div class='col-lg-10'>        <table class='table table-responsive table-hover' align='center'>          {{#each mraOutputs.navigation}}          <th colspan=3 align='center'>{{thread}}</th>            {{#each questions}}              <tr>                  <td align='left'></td>                  <td align='left'>Level:{{mrlLevel}}</td>                  <td align='left'>                    <a href onclick='$(\"#functionToCall\").val(\"getQuestionnairePageFromNavigation\");$(\"#navQuestionId\").val({{questionId}})' ng-click='run()'>{{questionText}}</a><br>                  </td>              </tr>            {{/each}}            </tr>          {{/each}}        </table>      </div>      <div class='col-lg-1'></div>    </div>  </div>  </div>    <input type='hidden' id='navThreadId' value='0'>    <input type='hidden' id='navSubThreadId' value='0'>    <input type='hidden' id='navSubThreadLevelId' value='0'>    <input type='hidden' id='navQuestionId' value='0'>    <input type='hidden' id='inputPage' value='navigationPage'></div>";
headerTemplate="<style>{{mraOutputs.mraCss}}</style><div id=\"mra_style\"><link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css' integrity='sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u' crossorigin='anonymous'><script src='https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js' integrity='sha256-c3RzsUWg+y2XljunEQS0LqWdQ04X1D3j22fd/8JCAKw=' crossorigin='anonymous'></script><div class='container-fluid'>        <div class='row'>            <div class='col-xs-12 mra_navigationbar'>                <div class='mra_navigationtitle'>                    <h4>DOCENT</h4>                </div>                <div class=\"mra_navigationitem mra_dropdown\" onmouseover=\"if (typeof(updateActionPersonWithCurrent) == 'function') {updateActionPersonWithCurrent();}\">                    <a href=\"javascript:void(0)\">Help</a><span class=\"caret\" style='color:white;'></span>                    <div class='mra_dropdowncontent'>                        <a href class='mra_dropdownitem' onclick='$(\"#functionToCall\").val(\"getCriteriaPage\")' ng-click='run()'>Criteria</a>                        <a href class='mra_dropdownitem' onclick='$(\"#functionToCall\").val(\"getDefinitionsPage\")' ng-click='run()'>Definitions</a>                        <a href class='mra_dropdownitem' onclick='$(\"#functionToCall\").val(\"getAcronymsPage\")' ng-click='run()'>Acronyms</a>                        <a href class='mra_dropdownitem' onclick='$(\"#functionToCall\").val(\"getHelpPage\")' ng-click='run()'>Help</a>                    </div>                </div>                <div class=\"mra_navigationitem mra_dropdown\" ng-show='\"{{mraOutputs.outputPage}}\"!=\"startPage\" || {{#if mraOutputs.outAssessmentPath}}true{{else}}false{{/if}}' onmouseover=\"if (typeof(updateActionPersonWithCurrent) == 'function') {updateActionPersonWithCurrent();}\">                    <a href=\"javascript:void(0)\">Assessment</a><span class=\"caret\" style='color:white;'></span>                    <div class='mra_dropdowncontent'>                        <a href class='mra_dropdownitem' onclick='$(\"#functionToCall\").val(\"getStartPage\")' ng-show='\"{{mraOutputs.outputPage}}\"!=\"startPage\"' ng-click='run()'>Start</a>                        <a href class='mra_dropdownitem' ng-show='{{#if mraOutputs.outAssessmentPath}}true{{else}}false{{/if}}' onclick='$(\"#functionToCall\").val(\"getNextQuestionnairePage\")' ng-show='\"{{mraOutputs.outputPage}}\"!=\"startPage\"' ng-click='run()'>Continue</a>                        <a href class='mra_dropdownitem' ng-show='{{#if mraOutputs.outAssessmentPath}}true{{else}}false{{/if}}' onclick='$(\"#functionToCall\").val(\"getMmpPage\")' ng-click='run()'>Action Items</a>                        <a href class='mra_dropdownitem' ng-show='{{#if mraOutputs.outAssessmentPath}}true{{else}}false{{/if}}' onclick='$(\"#functionToCall\").val(\"getDashboardPage\")' ng-click='run()'>Dashboard</a>                        <a href class='mra_dropdownitem' ng-show='{{#if mraOutputs.outAssessmentPath}}true{{else}}false{{/if}}' onclick='$(\"#functionToCall\").val(\"getReviewPage\")' ng-click='run()'>Review</a>                        <a href class='mra_dropdownitem' ng-show='{{#if mraOutputs.outAssessmentPath}}true{{else}}false{{/if}}' onclick='$(\"#functionToCall\").val(\"getNavigationPage\")' ng-click='run()'>Navigate</a>                        <a href class='mra_dropdownitem' ng-show='{{#if mraOutputs.outAssessmentPath}}true{{else}}false{{/if}}' onclick='$(\"#functionToCall\").val(\"getSkippedPage\")' ng-click='run()'>Skipped Questions</a>                        <a href class='mra_dropdownitem' ng-show='{{#if mraOutputs.outAssessmentPath}}true{{else}}false{{/if}}' onclick='$(\"#functionToCall\").val(\"getNotApplicablePage\")' ng-click='run()'>N/A Questions</a>                        {{#if mraOutputs.isRunningInElectron}}<a href class='mra_dropdownitem' ng-show='{{#if mraOutputs.outAssessmentPath}}true{{else}}false{{/if}}' onclick='$(\"#functionToCall\").val(\"saveAssessment\")' ng-click='run()'>Save</a>{{/if}}                    </div>                </div>                <div class='mra_assess_level_date' ng-show='\"{{mraOutputs.outputPage}}\"==\"questionnairePage\"||\"{{mraOutputs.outputPage}}\"==\"mmpPage\"||\"{{mraOutputs.outputPage}}\"==\"dashboardPage\"||\"{{mraOutputs.outputPage}}\"==\"reviewPage\"'>                    <span>Target MRL:&nbsp{{mraOutputs.assessment.targetLevel}}</span>                    <br>                    <span>Target Date:&nbsp{{mraOutputs.assessment.targetDate}}</span>                </div>            </div>            <div class='col-xs-12 mra_infobar'>              {{#if mraOutputs.question.threadName}}                <a href onclick='$(\"#functionToCall\").val(\"getNavigationPage\")' ng-click='run()'>{{mraOutputs.question.threadName}}</a> / <a class='mra_breadcrumbs_active' href onclick='$(\"#functionToCall\").val(\"getNavigationPage\")' ng-click='run()'>{{mraOutputs.question.subThreadName}}</a>                <span style=\"float: right;\">Level: {{mraOutputs.question.mrlLevel}}</span>              {{/if}}              {{#unless mraOutputs.question.threadName}}              {{/unless}}            </div>        </div></div><input type='hidden' id='functionToCall' value='getStartPage'/><input type='hidden' id='dmcProjectId' value='\{{projectData.id}}' />{{#if mraOutputs.outputPage}}  <span ng-if='\"{{mraOutputs.outputPage}}\"!=\"startPage\"'><input type='hidden' id='inAssessmentPath' value='{{mraOutputs.outAssessmentPath}}'/></span>{{/if}}";
helpTemplate="<div class='container-fluid'>  <div class=\"mra_panel\">    <div class=\"mra_page_title\">      <h2>Help</h2>      <hr>    </div>    {{#each helpMenuItems}}      <div class='row'>        <div class='col-xs-12' ng-init=\"show{{@index}} = false\">          <h4> <a href='' ng-click=\"show{{@index}} = !show{{@index}}\">{{helpTitle}}</a></h4>          <ul ng-if=\"show{{@index}}\" style=\"margin-bottom: 20px\">            {{#each helpText}}              <li>{{{this}}}</li>            {{/each}}          </ul>        </div>      </div>    {{/each}}  </div></div><input type='hidden' id='inputPage' value='helpPage'></div>";
importTemplate="<div id='blackLinks'>  <div class='container-fluid'>  <div class='mra_panel'>    <div class=\"mra_page_title\">      <h2>Import</h2>      <hr>    </div>    <div class='row'>      <div class='col-lg-1'></div>      <div class='col-lg-10'>        <table class='table table-responsive table-hover' align='center'>          <th align='left'>Choose an assessment</th>          {{#each mraOutputs.assessmentNames}}              <tr>                  <td align='left'>                    <a href onclick='$(\"#inAssessmentPath\").val(\"{{this}}\");$(\"#functionToCall\").val(\"getStartPage\")' ng-click='run()'>{{this}}</a><br>                  </td>              </tr>          {{else}}            <tr>              <td align='left'>                <button style='display:inline;' type='button' class='btn btn-primary' style='margin-bottom:10px' onclick='$(\"#functionToCall\").val(\"getStartPage\")' ng-click='run()'>Start Assessment</button>                No assessments found for this project.              </td>            </tr>          {{/each}}        </table>      </div>      <div class='col-lg-1'></div>    </div>  </div>  </div>  <input type='hidden' id='inputPage' value='importPage'></div>";
mmpTemplate="<div class='container-fluid'>  <div class=\"mra_panel\">    <div class=\"mra_page_title\">      <h2>Action Items</h2>      <hr>    </div>    <div class='container'>      <div class='row'>        <div class='col-md-9'>        </div>        <div id=\"csvExportDiv\" class='col-md-3'>          <span style=\"display: none;\" id=\"actionPlanCSVString\">{{mraOutputs.answersCSV}}</span>          <button id=\"exportCSV\" class='btn btn-primary pull-right' style='margin:10px'>Export</button>        </div>      </div>      {{#each mraOutputs.actionPlan}}      <div class='row well'>        <div class='col-xs-12'>          <div class='row'>            <div class='col-xs-12'>              <h4><a href onclick='$(\"#functionToCall\").val(\"getQuestionnairePageFromNavigation\");$(\"#navQuestionId\").val({{questionId}})' ng-click='run()'>{{questionText}}</a></h4>            </div>          </div>          <div class='row'>            <div class='col-md-3'>              {{#if completionDate}}                <div class='row'>                  <div class='col-xs-12'>                    <b>Completion Date</b>                    <ul>                      <li style='list-style-type:none'>{{completionDate}}</li>                    </ul>                  </div>                </div>              {{/if}}              <div class='row'>                <div class='col-xs-12'>                  <div ng-show='\"{{costRisk}}\"==\"1\"'><b>Cost Risk</b></div>                  <div ng-show='\"{{scheduleRisk}}\"==\"1\"'><b>Schedule Risk</b></div>                  <div ng-show='\"{{technicalRisk}}\"==\"1\"'><b>Technical Risk</b></div>                </div>              </div>              {{#if actionPerson}}                <div class='row'>                  <div class='col-xs-12'>                    <b>Team Members</b>                    <ul>                      {{#each actionPerson}}                      <li style='list-style-type:none'>{{name}}</li>                      {{/each}}                    </ul>                  </div>                </div>              {{/if}}            </div>            <div class='col-md-9'>              {{#if reason}}                <div class='row'>                  <div class='col-xs-12'>                    <b>Reason: </b><p>{{reason}}</p>                  </div>                </div>              {{/if}}              {{#if whatAction}}                <div class='row'>                  <div class='col-xs-12'>                    <b>Action: </b><p>{{whatAction}}</p>                  </div>                </div>              {{/if}}              {{#if assumptions}}                <div class='row'>                  <div class='col-xs-12'>                    <b>Assumptions: </b><p>{{assumptions}}</p>                  </div>                </div>              {{/if}}              {{#if notes}}                <div class='row'>                  <div class='col-xs-12'>                    <b>Notes: </b><p>{{notes}}</p>                  </div>                </div>              {{/if}}            </div>          </div>          {{#each attachments}}            <div class='row'>              <div class='col-xs-12'>                <button style=\"height: 32px; text-align: center;\" class='btn btn-success btn-sm mra-btn-circle' onclick='$(\"#functionToCall\").val(\"downloadAttachment\");$(\"#attachmentId\").val(\"{{id}}\")' ng-click='run()' style='margin-top:10px'>                  &#11015;                </button>                {{attachmentName}}              </div>            </div>          {{/each}}        </div>      </div>      {{else}}      <p>No action items</p>      {{/each}}    </div>    <input type='hidden' id='inputPage' value='mmpPage'>    <input type='hidden' id='navQuestionId' value='0'>    <input type='hidden' id='attachmentId' value=''/>  </div></div><script>  $( document ).ready(function() {    var exportButton = document.getElementById('exportCSV');    exportButton.addEventListener('click', function() {      downloadCSV();    });  });  function downloadCSV() {    var csv = generateCSVString();    var hiddenElement = document.createElement('a');    hiddenElement.href = 'data:text/csv;charset=utf-8,' + encodeURI(csv);    hiddenElement.target = '_blank';    hiddenElement.download = 'MRA_action_items.csv';    hiddenElement.style.display = 'none';    document.querySelector('#csvExportDiv').appendChild(hiddenElement);    hiddenElement.click();  }  function generateCSVString() {    var csv = (document.getElementById('actionPlanCSVString')).textContent;    csv = JSON.parse(csv);    for (var i=0; i < csv.length; i++) {      csv[i] = csv[i].join(',');    }    csv = csv.join(\"\");    return csv;  }</script>";
navigationTemplate="<div id='blackLinks'>  <div class='container-fluid'>    <div class='mra_panel'>    <div class=\"mra_page_title\">      <h2>Navigation</h2>      <hr>    </div>    <div class='row'>      <div class='col-xs-12'>        <h3>Click on any thread, sub-thread, level, or question to continue the questionnaire at that point.</h3>      </div>      <div class='col-xs-12'>        <ul>          {{#each mraOutputs.navigation}}            <a href ng-click='expandThread_{{threadId}} = !expandThread_{{threadId}}'>              <div class='mra_arrow_right' ng-show='!expandThread_{{threadId}}'></div>              <div class='mra_arrow_down' ng-show='expandThread_{{threadId}}'></div>            </a>            <a href ng-if='{{subThreads.length}}>0' onclick='$(\"#functionToCall\").val(\"getQuestionnairePageFromNavigation\");$(\"#navThreadId\").val({{threadId}})' ng-click='run()'>{{name}}</a>              <span ng-if='{{subThreads.length}}==0'>{{name}}</span>              <ul ng-show='expandThread_{{threadId}}'>                {{#each subThreads}}                  <a href ng-click='expandSubThread_{{subThreadId}} = !expandSubThread_{{subThreadId}}'>                    <div class='mra_arrow_right' ng-show='!expandSubThread_{{subThreadId}}&&{{subThreadLevels.length}}>0'></div>                    <div class='mra_arrow_down' ng-show='expandSubThread_{{subThreadId}}&&{{subThreadLevels.length}}>0'></div>                  </a>                  <a href ng-if='{{subThreadLevels.length}}>0' onclick='$(\"#functionToCall\").val(\"getQuestionnairePageFromNavigation\");$(\"#navSubThreadId\").val({{subThreadId}})' ng-click='run()'>{{name}}</a>                  <span ng-if='{{subThreadLevels.length}}==0'>{{name}}</span>                  <ul ng-show='expandSubThread_{{subThreadId}}'>                    {{#each subThreadLevels}}                      <a href ng-click='expandSubThreadLevel_{{subThreadLevelId}} = !expandSubThreadLevel_{{subThreadLevelId}}'>                        <div class='mra_arrow_right' ng-show='!expandSubThreadLevel_{{subThreadLevelId}}&&{{questions.length}}>0'></div>                        <div class='mra_arrow_down' ng-show='expandSubThreadLevel_{{subThreadLevelId}}||{{questions.length}}==0'></div>                      </a>                      <a href ng-if='{{questions.length}}>0' onclick='$(\"#functionToCall\").val(\"getQuestionnairePageFromNavigation\");$(\"#navSubThreadLevelId\").val({{subThreadLevelId}})' ng-click='run()'>{{mrlLevel}}</a>                      <span ng-if='{{questions.length}}==0'>{{mrlLevel}}</span>                      <ul ng-show='expandSubThreadLevel_{{subThreadLevelId}}&&{{questions.length}}>0'>                        {{#each questions}}                          <a href onclick='$(\"#functionToCall\").val(\"getQuestionnairePageFromNavigation\");$(\"#navQuestionId\").val({{questionId}})' ng-click='run()'>{{questionText}}</a><br>                        {{/each}}                      </ul>                      <br>                    {{/each}}                  </ul>                  <br>                {{/each}}              </ul>              <br>            {{/each}}          </ul>        </div>      </div>    </div>    </div>    <input type='hidden' id='navThreadId' value='0'>    <input type='hidden' id='navSubThreadId' value='0'>    <input type='hidden' id='navSubThreadLevelId' value='0'>    <input type='hidden' id='navQuestionId' value='0'>    <input type='hidden' id='inputPage' value='navigationPage'></div>";
questionnaireTemplate="<div>  <div class='container-fluid'>    <div id=\"scopePanel\" class=\"mra_panel\" style=\"margin-bottom: 10px;\">      <b><u>Assessment Scope:</u></b>      <span>        <div id=\"scopeText\" class=\"mra-truncate\">{{mraOutputs.assessment.scope}}</div>        <div id='moreLessLinks' style=\"text-align: right; display: none\">          <a id=\"moreLink\" onclick='$(\"#scopeText\").removeClass(\"mra-truncate\"); $(\"#moreLink\").css(\"display\",\"none\"); $(\"#lessLink\").css(\"display\",\"\")'>more</a>          <a id=\"lessLink\" style=\"display: none;\" onclick='$(\"#scopeText\").addClass(\"mra-truncate\"); $(\"#lessLink\").css(\"display\",\"none\"); $(\"#moreLink\").css(\"display\",\"\")'>less</a>        </div>      </span>    </div>    <div class=\"mra_panel\">      <div class='row'>        <div class='col-xs-2'>          <div class='row'>            <div class='col-md-12'>              <button class = 'btn btn-primary' style='margin:10px' onclick='$(\"#functionToCall\").val(\"getPreviousQuestionnairePage\")' ng-click='run()'>Back</button>            </div>          </div>          <div class='row'>            <div class='col-md-12'>            </div>          </div>        </div>        <div class='col-xs-2 pull-right'>            <div class='col-md-12'>              <button class = 'btn btn-success pull-right' style='margin:10px' ng-show='!(selectOption==1 || selectOption==2 || selectOption==3)' onclick='$(\"#functionToCall\").val(\"getNextQuestionnairePage\")' ng-click='run()'>Skip</button>              <button class = 'btn btn-success pull-right' style='margin:10px' ng-show='(selectOption==1 || selectOption==2 || selectOption==3)' onclick='$(\"#functionToCall\").val(\"getNextQuestionnairePage\")' ng-click='run()'>Next</button>            </div>          </div>        </div>        <div class='row'>          <div class='col-xs-2'></div>        <div class='col-xs-8'>          <div class='row'>              <h3 style=\"text-align: justify;\">{{{mraOutputs.question.questionText}}}</h3>          </div>          <div class='row'>            <div class=\"col-xs-2 pull-left\" ng-init='show_explanation=false'>              <a href=\"\" style=\"line-height: 54px;\" class=\"mra_vertical_align\" ng-click='show_explanation=!show_explanation' ng-show='!show_explanation'>Explain</a>              <a href=\"\" style=\"line-height: 54px;\" class=\"mra_vertical_align\" ng-click='show_explanation=!show_explanation' ng-show='show_explanation'>Hide</a>            </div>          <div class=\"col-xs-6 pull-right\">            <select id='answerValue' class='selectpicker form-control  pull-right' ng-model='selectOption' ng-init='selectOption={{#if mraOutputs.answerInfo.answer}}\"{{mraOutputs.answerInfo.answer}}\"{{else}}\"0\"{{/if}}' style='margin:10px'>              <option value='0'>Select...</option>              <option value='1'>Yes</option>              <option value='2'>No</option>              <option value='3'>Not Applicable</option>            </select>          </div>          </div>        </div>        <div class='col-xs-2'></div>      </div>    <div class='row'>      <div class='col-xs-2'></div>      <div class='col-xs-8' ng-show='show_explanation'>{{{mraOutputs.question.helpText}}}</div>      <div class='col-xs-2'></div>    </div>    <div class='mra_divider'></div>    <div class='row'>        <div class='col-md-2'></div>        <div class='col-md-8' ng-switch='selectOption'>          <div class = 'form-group well' ng-switch-when='1'>            <label for='objectiveEvidence'>Objective Evidence:</label>            <textarea  class='form-control' rows='5' id='evidence' placeholder='Enter objective evidence here...'>{{#if mraOutputs.answerInfo.evidence}}{{mraOutputs.answerInfo.evidence}}{{/if}}</textarea>          </div>          <div class = 'form-group well' ng-switch-when='2'>            <div class='row'>              <div class='col-md-6'>                <h4>Action Plan</h4>              </div>              <div class='col-md-6'></div>            </div>            <div class='row'>              <div class='col-md-4' ng-init='mrl_actionPersonArray=[\"0\"];mrl_numActionPerson=1'>                <div class='row'>                  <div class='col-xs-12'>                    <label for='mrl_buttons'>Who:</label>                    <!--<div class='btn-group' id='mrl_buttons'>                      <a href class='btn btn-sm' ng-click='mrl_actionPersonArray.push(mrl_numActionPerson);mrl_numActionPerson=mrl_numActionPerson+1'><font color='#5cb85c'><span class='glyphicon glyphicon-plus'></span></font></a>                      <a href class='btn btn-sm' ng-click='mrl_actionPersonArray.splice(-1);mrl_numActionPerson=mrl_numActionPerson-1'><font color='#0E5492'><span class='glyphicon glyphicon-minus'></span></font></a>                    </div> -->                  </div>                </div>                <!-- Loop for saved action persons -->                {{#each mraOutputs.answerInfo.actionPerson}}                <div style=\"margin-bottom: 10px;\" class='row'>                    <div class=\"col-xs-2\">                      {{#if @first}}                        <button style=\"height: 32px; text-align: center;\" class='btn btn-success btn-sm mra-btn-circle' ng-click='mrl_actionPersonArray.push(mrl_numActionPerson);mrl_numActionPerson=mrl_numActionPerson+1' style='margin-top:10px'>                          &#x2795;                        </button>                      {{/if}}                    </div>                    <div class=\"col-xs-10\">                      <input class=\"form-control mrl_actionPersonName\" type='text' id='mrl_actionPersonName' onchange='updateActionPersonWithCurrent()' value='{{this}}'>                    </div>                </div>                {{/each}}                <!-- Loop for action persons being added dynamically-->                <div style=\"margin-bottom: 10px;\" class='row' ng-repeat='x in mrl_actionPersonArray'>                    <div class=\"col-xs-2\">                      {{#unless mraOutputs.answerInfo.actionPerson}}                        <button style=\"height: 32px; text-align: center;\" ng-show='$first' class='btn btn-success btn-sm mra-btn-circle' ng-click='mrl_actionPersonArray.push(mrl_numActionPerson);mrl_numActionPerson=mrl_numActionPerson+1' style='margin-top:10px'>                          &#x2795;                        </button>                        <button style=\"height: 32px; text-align: center;\" ng-show=\"$last && mrl_actionPersonArray.length > 1\" class='btn btn-danger btn-sm mra-btn-circle' ng-click='mrl_actionPersonArray.splice(-1);mrl_numActionPerson=mrl_numActionPerson-1' style='margin-top:10px'>                          &#x2796;                        </button>                      {{/unless}}                      {{#if mraOutputs.answerInfo.actionPerson}}                        <button style=\"height: 32px; text-align: center;\" ng-show=\"$last\" class='btn btn-danger btn-sm mra-btn-circle' ng-click='mrl_actionPersonArray.splice(-1);mrl_numActionPerson=mrl_numActionPerson-1' style='margin-top:10px'>                          &#x2796;                        </button>                      {{/if}}                    </div>                    <div class=\"col-xs-10\">                      <input class=\"form-control mrl_actionPersonName\" type='text' id='mrl_actionPersonName' onchange='updateActionPersonWithCurrent()'>                    </div>                </div>              </div>              <div class='col-md-4'>                <div class='row'>                  <div class='col-xs-12'>                    <label>Risk:</label>                    <label style=\"margin-left: 30px;\" class='checkbox'><input type='checkbox' id='technicalRisk' onclick='$(this).attr(\"value\", this.checked ? 1 : 0)' {{#if mraOutputs.answerInfo.technicalRisk}}checked{{/if}} {{#if mraOutputs.answerInfo.technicalRisk}}value='1'{{else}}value='0'{{/if}}>Technical</label>                    <label style=\"margin-left: 30px;\" class='checkbox'><input type='checkbox' id='costRisk' onclick='$(this).attr(\"value\", this.checked ? 1 : 0)' {{#if mraOutputs.answerInfo.costRisk}}checked{{/if}} {{#if mraOutputs.answerInfo.costRisk}}value='1'{{else}}value='0'{{/if}}>Cost</label>                    <label style=\"margin-left: 30px;\" class='checkbox'><input type='checkbox' id='scheduleRisk' onclick='$(this).attr(\"value\", this.checked ? 1 : 0)' {{#if mraOutputs.answerInfo.scheduleRisk}}checked{{/if}} {{#if mraOutputs.answerInfo.scheduleRisk}}value='1'{{else}}value='0'{{/if}}>Schedule</label>                  </div>                </div>            </div>            <div class='col-md-4'>              <label for='completionDate'>When:</label>              <input type='date' class='form-control' id='completionDate' placeholder='Date to complete action plan' {{#if mraOutputs.answerInfo.completionDate}}value=\"{{mraOutputs.answerInfo.completionDate}}\"{{/if}}></input>            </div>          </div>          <div class='row'><div class='col-md-12'><label for='whatAction'>What:</label><textarea class='form-control' rows='5' id='whatAction' placeholder='What needs to be done to meet this objective?'>{{#if mraOutputs.answerInfo.whatAction}}{{mraOutputs.answerInfo.whatAction}}{{/if}}</textarea></div></div>          <div class='row'><div class='col-md-12'><label for='reason'>Reason:</label><textarea class='form-control' rows='5' id='reason' placeholder='Reason that criteria is not met'>{{#if mraOutputs.answerInfo.reason}}{{mraOutputs.answerInfo.reason}}{{/if}}</textarea></div></div>        </div>	       <div class = 'form-group well' ng-switch-when='3'>           <label for='documentation'>Documentation:</label>           <textarea class='form-control' rows='5' id='documentation' placeholder='Document why this question is not applicable...'>{{#if mraOutputs.answerInfo.documentation}}{{mraOutputs.answerInfo.documentation}}{{/if}}</textarea>         </div>       </div>       <div class='col-md-2'></div>     </div>     <div class='row'>       <div class='col-md-2'></div>       <div class='col-md-8'>         <div class='form-group'>           <label for='assumptions'>Assumptions:</label>           <textarea class='form-control' rows='5' id='assumptions' placeholder='Enter any assumptions here...'>{{#if mraOutputs.answerInfo.assumptions}}{{mraOutputs.answerInfo.assumptions}}{{/if}}</textarea>         </div>       </div>       <div class='col-md-2'></div>    </div>    <div class='row'>      <div class='col-md-2'></div>      <div class='col-md-8'>        <label for='notes'>Notes:</label>        <textarea class='form-control' rows='5' id='notes' placeholder='Enter notes here...'>{{#if mraOutputs.answerInfo.notes}}{{mraOutputs.answerInfo.notes}}{{/if}}</textarea>      </div>      <div class='col-md-2'></div>    </div>    <div class='row'>      <div class='col-md-2'></div>      <div class='col-md-8'>        {{#if mraOutputs.isRunningInElectron}}        <label for='attachments'>Attachments:</label>        <button class = 'btn btn-primary pull-right' style='margin:10px'  onclick='$(\"#functionToCall\").val(\"addAttachment\")' ng-click='run()'>Attach File</button>        {{/if}}      </div>      <div class='col-md-2'></div>    </div>    {{#each mraOutputs.answerInfo.attachments}}    <div class='row'>      <div class='col-md-2'></div>      <div class='col-md-8'>        <button style=\"height: 32px; text-align: center;\" class='btn btn-success btn-sm mra-btn-circle' onclick='$(\"#functionToCall\").val(\"downloadAttachment\");$(\"#attachmentId\").val(\"{{id}}\")' ng-click='run()' style='margin-top:10px'>          &#11015;        </button>        <button style=\"height: 32px; text-align: center;\" class='btn btn-danger btn-sm mra-btn-circle' onclick='$(\"#functionToCall\").val(\"deleteAttachment\");$(\"#attachmentId\").val(\"{{id}}\")' ng-click='run()' style='margin-top:10px'>          &#x2796;        </button>        {{attachmentName}}      </div>      <div class='col-md-2'></div>    </div>    {{/each}}  </div></div>  <input type='hidden' id='actionPerson' value='{{mraOutputs.answerInfo.actionPersonFormatted}}'/>  <input type='hidden' id='attachmentId' value=''/>  <input type='hidden' id='questionId' value='{{mraOutputs.question.questionId}}'>  <input type='hidden' id='inputPage' value='questionnairePage'>  <input type='hidden' id='questionVisitList' value='{{mraOutputs.question.questionVisitList}}'></div><script type=\"text/javascript\">  function updateActionPersonWithCurrent() {    var actionPersonList = $(\".mrl_actionPersonName\").map(function(x){      return $(\".mrl_actionPersonName\")[x].value;    }).get();    actionPersonList = JSON.stringify(actionPersonList);    $(\"#actionPerson\").val(actionPersonList);  }  $(document).ready(function() {    var scopeText = $(\"#scopeText\");    var scopePanel = $(\"#scopePanel\");    var scopeTextCopy = scopeText           .clone()           .css({display: 'inline', width: 'auto', visibility: 'hidden'})           .removeClass('.mra-truncate')           .appendTo('#scopePanel');    if( scopeTextCopy.width() > scopeText.width() ) {        $(\"#moreLessLinks\").css('display','');    }    scopeTextCopy.remove();  });</script>";
reviewTemplate="<div class='container-fluid'><div class=\"mra_panel\">    <div class=\"mra_page_title\">      <h2>Review</h2>      <hr>    </div>    <div class='row well' style='margin:10px;'>      <div class='row'>        <div class='col-sm-9'>          {{assessment.scope}}        </div>        <div id=\"csvExportDiv\" class='col-sm-3'>          <span style=\"display: none;\" id=\"reviewCSVString\">{{mraOutputs.answersCSV}}</span>          <button id=\"exportCSV\" class='btn btn-primary pull-right' style='margin:10px'>Export</button>        </div>      </div>      <div class='row'>        <div class='col-md-2'>          <b>Target Level</b><br>          {{mraOutputs.assessment.targetLevel}}        </div>        <div class='col-md-2'>          <b>Target Date</b><br>          {{mraOutputs.assessment.targetDate}}        </div>        <div class='col-md-2'>          <b>Location</b><br>          {{mraOutputs.assessment.location}}        </div>        <div class='col-md-6'>          <b>Team Members</b><br>          {{#each mraOutputs.assessment.teamMembers}}            {{name}} - {{role}}<br>          {{/each}}        </div>      </div>    </div>    <hr>    {{#each mraOutputs.reviewInfo}}      <div class='row well' style='margin:10px;'>        <div class='col-xs-12'>          <div class='row'>            <h4><a href onclick='$(\"#functionToCall\").val(\"getQuestionnairePageFromNavigation\");$(\"#navQuestionId\").val({{questionId}})' ng-click='run()'>{{questionText}}</a>              <span class='label label-success' ng-if='{{answer}}==1'><b>Yes</b></span>              <span class='label label-danger' ng-if='{{answer}}==2'><b>No</b></span>              <span class='label label-default' ng-if='{{answer}}==3'><b>Not Applicable</b></span>              <span class='label label-default' ng-if='{{answer}}==0'><b>Skipped</b></span>            </h4>          </div>          {{#if evidence}}            <div class='row' ng-if='{{answer}}==1'>              <b>Objective Evidence: </b><p>{{evidence}}</p>            </div>          {{/if}}          <div class='row' ng-if='{{answer}}==2'>            <p ng-show='\"{{costRisk}}\"==\"1\"'><b>Cost Risk</b></p>            <p ng-show='\"{{scheduleRisk}}\"==\"1\"'><b>Schedule Risk</b></p>            <p ng-show='\"{{technicalRisk}}\"==\"1\"'><b>Technical Risk</b></p>            {{#if completionDate}}              <b>Completion Date</b>              <ul>                <li style='list-style-type:none'>{{completionDate}}</li>              </ul>              {{/if}}              {{#if actionPerson}}                <b>Team Members</b>                <ul>                  {{#each actionPerson}}                    <li style='list-style-type:none'>{{name}}</li>                  {{/each}}                </ul>              {{/if}}            {{#if reason}}              <b>Reason: </b><p>{{reason}}</p>            {{/if}}            {{#if whatAction}}              <b>Action: </b><p>{{whatAction}}</p>            {{/if}}          </div>          {{#if documentation}}            <div class='row' ng-if='{{answer}}==3'>              <b>Documentation: </b><p>{{documentation}}</p>            </div>          {{/if}}          <div class='row'>            {{#if assumptions}}              <b>Assumptions: </b><p>{{assumptions}}</p>            {{/if}}            {{#if notes}}              <b>Notes: </b><p>{{notes}}</p>            {{/if}}          </div>          {{#each attachments}}            <div class='row'>                <button style=\"height: 32px;\" class='btn btn-success btn-sm mra-btn-circle' onclick='$(\"#functionToCall\").val(\"downloadAttachment\");$(\"#attachmentId\").val(\"{{id}}\")' ng-click='run()' style='margin-top:10px'>                  &#11015;                </button>                {{attachmentName}}            </div>          {{/each}}        </div>      </div>      {{/each}}    </div>  <input type='hidden' id='navQuestionId' value='0'>  <input type='hidden' id='inputPage' value='reviewPage'>  <input type='hidden' id='attachmentId' value=''/></div><script>  $( document ).ready(function() {    var exportButton = document.getElementById('exportCSV');    exportButton.addEventListener('click', function() {      downloadCSV();    });  });  function downloadCSV() {    var csv = generateCSVString();    var hiddenElement = document.createElement('a');    hiddenElement.href = 'data:text/csv;charset=utf-8,' + encodeURI(csv);    hiddenElement.target = '_blank';    hiddenElement.download = 'MRA_review.csv';    hiddenElement.style.display = 'none';    document.querySelector('#csvExportDiv').appendChild(hiddenElement);    hiddenElement.click();  }  function generateCSVString() {    var csv = (document.getElementById('reviewCSVString')).textContent;    csv = JSON.parse(csv);    for (var i=0; i < csv.length; i++) {      csv[i] = csv[i].join(',');    }    csv = csv.join('');    return csv;  }</script>";
startTemplate="<div>  <div class='mra_max_width_container'>    <div class='row'>      <div class='col-sm-6'>        <div class=\"mra_panel\">        <div class='row'>          <div class='col-xs-12'>            <h3>Start New Assessment</h3>            <p>Use this option to start a new assessment.</p>          </div>        </div>        <div class='row' ng-init='mrl_teamMemberArray=[\"0\"];mrl_numTeamMembers=1'>          <div class='col-xs-12'>            <label for='addteam'>Add Team Members:</label>              {{#each mraOutputs.assessment.teamMembers}}              <div style=\"margin-bottom: 10px;\" class='row'>                <div class=\"col-xs-2\">                  {{#if @first}}                  <span class=\"input-group-btn\">                    <button style=\"height: 32px; text-align: center;\" class='btn btn-success btn-sm mra-btn-circle' ng-click='mrl_teamMemberArray.push(mrl_numTeamMembers);mrl_numTeamMembers=mrl_numTeamMembers+1' style='margin-top:10px'>                      &#x2795;                    </button>                  </span>                  {{/if}}                </div>                <div class=\"col-xs-5\">                  <input class=\"form-control\" type='text' id='mrl_teamMemberName{{@index}}' value='{{name}}'>                </div>                <div class=\"col-xs-5\">                    <input class=\"form-control\" type='text' id='mrl_teamMemberRole{{@index}}' value='{{role}}'>                </div>              </div>              {{/each}}              <div style=\"margin-bottom: 10px;\" class='row' ng-repeat='x in mrl_teamMemberArray'>                <div class=\"col-xs-2\">                  <span class=\"input-group-btn\">                    {{#unless mraOutputs.assessment.teamMembers}}                      <button style=\"height: 32px; text-align: center;\" ng-show='$first' class='btn btn-success btn-sm mra-btn-circle' ng-click='mrl_teamMemberArray.push(mrl_numTeamMembers);mrl_numTeamMembers=mrl_numTeamMembers+1' style='margin-top:10px'>                        &#x2795;                      </button>                      <button style=\"height: 32px; text-align: center;\" ng-show='$last && mrl_teamMemberArray.length > 1' class='btn btn-danger btn-sm mra-btn-circle' ng-click='mrl_teamMemberArray.splice(-1);mrl_numTeamMembers=mrl_numTeamMembers-1' style='margin-top:10px'>                        &#x2796;                      </button>                    {{/unless}}                    {{#if mraOutputs.assessment.teamMembers}}                      <button style=\"height: 32px; text-align: center;\" ng-show='($last && mrl_teamMemberArray.length > 1) || mrl_teamMemberArray.length == 1' class='btn btn-danger btn-sm mra-btn-circle' ng-click='mrl_teamMemberArray.splice(-1);mrl_numTeamMembers=mrl_numTeamMembers-1' style='margin-top:10px'>                        &#x2796;                      </button>                    {{/if}}                  </span>                </div>                  <div class=\"col-xs-5\">                    <input class=\"form-control\" type='text' id='mrl_teamMemberName' placeholder=\"Name\">                  </div>                  <div class=\"col-xs-5\">                    <input class=\"form-control\" type='text' id='mrl_teamMemberRole' placeholder=\"Role\">                  </div>              </div>          </div>        </div>        <div class='form-group'>          <p>            <label for='scope'>Scope:</label>            <span ng-show='scopeRequired'>{{scopeRequired}}</span>            <textarea class='form-control' id='scope' rows='2'>{{mraOutputs.assessment.scope}}</textarea>          </p>        </div>        <div class='form-group'>                <label for='mrl'>Target MRL:</label>                <span ng-show='targetMRLRequired'>{{targetMRLRequired}}</span>                <select class='selectpicker form-control' id='targetLevel' ng-init='init_level=\"{{mraOutputs.assessment.targetLevel}}\"' ng-model='init_level'>                  <option value=1>1</option>                  <option value=2>2</option>                  <option value=3>3</option>                  <option value=4>4</option>                  <option value=5>5</option>                  <option value=6>6</option>                  <option value=7>7</option>                  <option value=8>8</option>                  <option value=9>9</option>                  <option value=10>10</option>                </select>            </div>        <div class='form-group'>          <label for='date'>Date to achieve Target MRL:</label>            <span ng-show='dateRequired'>{{dateRequired}}</span>            <input type='date' class='form-control' id='targetDate' value='{{mraOutputs.assessment.targetDate}}'>        </div>        <div class='form-group'>            <label for='location'>Location:</label>            <span ng-show='locationRequired'>{{locationRequired}}</span>            <input type='text' class='form-control' id='location' value='{{mraOutputs.assessment.location}}'></input>        </div>            <div class='form-group'>                <label for='version'>Deskbook Version:</label>                <span ng-show='versionRequired'>{{versionRequired}}</span>                <select class='selectpicker form-control' id='version'>                    <option title='v2.4' value='1' selected='selected'>V2.4 - August 2015</option>                </select>            </div>            {{#unless mraOutputs.isRunningInElectron}}              <div class='form-group'>                <label for='assessmentName'>Name of Assessment:</label>                <span ng-show='assessmentNameRequired'>{{assessmentNameRequired}}</span>                <input type='text' class='form-control' id='inAssessmentPath' value='{{mraOutputs.outAssessmentPath}}'></input>              </div>            {{/unless}}            <div id=\"startButtonWrapper\" style=\"border-top: 1px solid transparent; width:60px;\">              <button id=\"startButton\" class='btn btn-primary btn-large' style='margin-bottom:5px' onclick='$(\"#teamMemberNames\").val(JSON.stringify($(\"[id^=mrl_teamMemberName]\").map(function(){return $(this).val();}).get()));$(\"#teamMemberRoles\").val(JSON.stringify($(\"[id^=mrl_teamMemberRole]\").map(function(){return $(this).val();}).get()));$(\"#functionToCall\").val(\"saveStartGetQuestionnairePage\")' ng-show='{{#if mraOutputs.outAssessmentPath}}false{{else}}true{{/if}}' ng-click='run()'>Start</button>              <button id=\"startButton\" class='btn btn-primary btn-large' style='margin-bottom:5px' onclick='$(\"#teamMemberNames\").val(JSON.stringify($(\"[id^=mrl_teamMemberName]\").map(function(){return $(this).val();}).get()));$(\"#teamMemberRoles\").val(JSON.stringify($(\"[id^=mrl_teamMemberRole]\").map(function(){return $(this).val();}).get()));$(\"#functionToCall\").val(\"updateStartGetQuestionnairePage\")' ng-show='{{#if mraOutputs.outAssessmentPath}}true{{else}}false{{/if}}' ng-click='run()'>Continue</button>            </div>            <br>        </div>      </div>        <div class='col-sm-6'>          <div class=\"mra_panel\">          <h3>Continue Existing Assessment</h3>          <p>Use this option to start working on an existing assessment. You will be required to import your assessment data.</p>          <br>          <button style='display:inline;' type='button' class='btn btn-primary' style='margin-bottom:10px' onclick='$(\"#functionToCall\").val(\"getHelpPage\")' ng-click='run()'>Help Importing</button>          <button style='display:inline;' type='button' class='btn btn-success' style='margin-bottom:10px' onclick='$(\"#functionToCall\").val(\"startPageImportAssessment\")' ng-click='run()'>Import Assessment</button>        </div>      </div>    </div>    </div>  </div>  <input type='hidden' id='inputPage' value='startPage'/>  <input type='hidden' id='teamMemberNames' value=''/>  <input type='hidden' id='teamMemberRoles' value=''/></div>  <script>    $(document).ready(function() {      var startButton = document.getElementById('startButton');      var startButtonWrapper = document.getElementById('startButtonWrapper');      startButton.disabled = true;      var formFields = getFormFieldsToValidate();      var highlightPerformed = false;      document.onkeyup = function() {        if (highlightPerformed) { highlightMissingFields(formFields) };        enableStartButtonIfValid(startButton, formFields);        updateTeamMembers();      };      document.onclick = function() {        if (highlightPerformed) { highlightMissingFields(formFields) };        enableStartButtonIfValid(startButton, formFields);        updateTeamMembers();      };      startButtonWrapper.onmouseover = function(){        if (startButton.disabled) {          highlightPerformed = true;          highlightMissingFields(formFields);        }      };      updateTeamMembers();    });    function getFormFieldsToValidate() {      var targetDateField = document.getElementById('targetDate');      var targetLevelField = document.getElementById('targetLevel');      var deskbookVersionField = document.getElementById('version');      return [targetDateField, targetLevelField, deskbookVersionField];    }    function enableStartButtonIfValid(button, formFields) {      button.disabled = !validateFields(formFields);    };    function validateFields(formFields) {      var validationResult = returnInvalidIDs(formFields);      return validationResult.length == 0;    };    function returnInvalidIDs(formFields) {      var validationResult = [];      for (var i=0; i < formFields.length; i++){        var field = formFields[i];        if (field.id == 'targetLevel' || field.id == 'version'){          if (isNaN(field.value)){            validationResult.push(field);          }        }        if (field.id == 'targetDate'){          if (isNaN(Date.parse(field.value))){            validationResult.push(field);          }        }      }        return validationResult;    };    function highlightMissingFields(formFields) {      var invalidFields = returnInvalidIDs(formFields);      for (var i=0; i < formFields.length; i++) {        formFields[i].style.background = 'initial';      }      for (var j=0; j < invalidFields.length; j++) {        invalidFields[j].style.background = 'pink';      }    };    function updateTeamMembers() {      console.log('RUN updateTeamMembers');      var memberNames = $(\"[id^=mrl_teamMemberName]\");      var memberRoles = $(\"[id^=mrl_teamMemberRole]\");      memberNames = memberNames.map(function(){        return $(this).val();      }).get();      memberRoles = memberRoles.map(function(){        return $(this).val();      }).get();      $(\"#teamMemberNames\").val(JSON.stringify(memberNames));      $(\"#teamMemberRoles\").val(JSON.stringify(memberRoles));    };  </script>";
mraCss="body.mra{  font-family:Roboto,Arial,sans-serif;  color:#121212;  height: 100%;  background-color: #EFECED;}div.mra_header{  font-size: 16px;  color: #FFFFFF;  background-color: #607d8b;  padding: 10px;}div.mra_infobar{  margin-bottom: 20px;  min-height: 25px;  color: white;  padding: 3px 25px 0px 25px;  background-color: #455a64;  -webkit-box-shadow: 0px 3px 2px 0px rgba(0,0,0,0.75);  -moz-box-shadow: 0px 3px 2px 0px rgba(0,0,0,0.75);  box-shadow: 0px 3px 2px 0px rgba(0,0,0,0.75);}div.mra_infobar a{  color: white;}div.mra_navigationbar{  z-index: 1;  margin: auto;  background-color: #607d8b;  -webkit-box-shadow: 0px 2px 2px 0px rgba(0,0,0,0.75);  -moz-box-shadow: 0px 2px 2px 0px rgba(0,0,0,0.75);  box-shadow: 0px 2px 2px 0px rgba(0,0,0,0.75);}div.mra_navigationitem{  padding-left: 300px;  display: inline-flex;  height: 46px;  line-height: 46px;  min-width: 70px;  padding: 0px 10px;  transition: background .2s;  color: white;}div.mra_dropdown a{  transition: background .2s;}div.mra_navigationtitle{  margin: auto;  color: white;  font-size: 1.4em;  display: inline-block;  height: 46px;  line-height: 46px;  min-width: 70px;  padding: 0px 10px;}div.mra_assess_level_date{  color: white;  display: inline-block;  height: 46px;  line-height: 23px;  min-width: 70px;  float: right;}div.mra_assess_level_date div{  text-size: .5em;}div.mra_navigationitem a{  text-decoration: none;  color: white;  display: inline-block;  margin: auto;}div.mra_navigationitem:hover{  background: #546e7a;}div.mra_dropdowncontent a:hover{  background: #cfd8dc;}div.mra_dropdown{  display: inline-block;}div.mra_dropdowncontent{  display: none;  position: absolute;  background-color: #eceff1;  min-width: 100px;  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);}div.mra_dropdown a{  display: inline-block;}div.mra_dropdowncontent a{  color: black;  padding: 3px 6px;  text-decoration: none;  display: block;  text-align: left;}div.mra_dropdown:hover .mra_dropdowncontent{  display: block;  position: absolute;  z-index: 1;}div.mra_breadcrumbs{  color: #FFFFFF;  background-color: #002D54;  padding: 3px;  margin: 0px -10px;}a.mra_breadcrumbs_active{  opacity: 0.5;}/*New material style*/div.mra_panel{  margin-bottom: 30px;  width: 100%;  max-width: 1400px;  margin: auto;  padding: 20px;  background: white;  border-radius: 5px;  -webkit-box-shadow: 0px 3px 6px rgba(0,0,0,0.16);  -moz-box-shadow: 0px 3px 6px rgba(0,0,0,0.16);  box-shadow: 0px 3px 6px rgba(0,0,0,0.16);}.mra_max_width_container {  max-width: 1400px;  margin: auto;  padding: 0px 25px;}.mra_vertical_align {  display: inline-block;  vertical-align: middle;  float: none;}#mra_style button{  border: none;  -webkit-box-shadow: 0px 2px 2px rgba(0,0,0,0.16);  -moz-box-shadow: 0px 2px 2px rgba(0,0,0,0.16);  box-shadow: 0px 2px 2px rgba(0,0,0,0.16);  border-radius: 4px;}#mra_style table{  -webkit-box-shadow: 0px 2px 2px rgba(0,0,0,0.16);  -moz-box-shadow: 0px 2px 2px rgba(0,0,0,0.16);  box-shadow: 0px 0px 5px rgba(0,0,0,0.16);  background-color: white;}#mra_style th{  color: black;  background-color: #eceff1;  font-weight: bold;}#mra_style td{  background-color: white;  color: #212121;  border-top: none;}#mra_style #answerValue{  max-width: 120px;}td.t-centered, th.t-centered{  text-align: center;  vertical-align: middle;}td.dash + td.dash,th.dash + th.dash {  border-left: 1px solid #e1e7ea;  min-width: 41px;}tr.dash + tr.dash {  border-top: 1px solid #e1e7ea;  min-width: 41px;}.mra_divider{  width: 100%;  height: 1px;  background-color: lightgrey;  margin: auto;  margin-top: 20px;  margin-bottom: 20px;}.mra_arrow_down {  width: 0;  height: 0;  border-left: 5px solid transparent;  border-right: 5px solid transparent;  border-top: 5px solid black;  display: inline-block;}.mra_arrow_right {  width: 0;  height: 0;  border-top: 5px solid transparent;  border-bottom: 5px solid transparent;  border-left: 5px solid black;  display: inline-block;}#mra_style table.mra_divided_table{  background: #eceff1;}#mra_style table.mra_divided_table{  background: #eceff1;}#mra_style table.mra_divided_table td{  background: #cfd8dc;  -webkit-box-shadow: inset 0 7px 9px -7px rgba(0,0,0,0.4);  -moz-box-shadow: inset 0 7px 9px -7px rgba(0,0,0,0.4);  box-shadow: inset 0 7px 9px -7px rgba(0,0,0,0.4);}#mra_style table.mra_divided_table td.mra_divided_table_top_level{  background: #eceff1;  -webkit-box-shadow: 40px 40px 0px 0px rgba(0,0,0,0);  -moz-box-shadow: 40px 40px 0px 0px rgba(0,0,0,0);  box-shadow: 40px 40px 0px 0px rgba(0,0,0,0);}#mrl_milestone_table{  margin-top: 50px;  position: relative;  z-index: 0;}#mra_style .btn-primary{  background: #546e7a;}#mra_style .btn-success{  background: #546e7a;}#mra_style .btn-primary:hover{  background: #607d8b;}#mra_style .btn-success:hover{  background: #607d8b;}#mra_style .mra-btn-circle{  border-radius: 50%;  height: 32px;  width: 32px;}/*END New material style*/.mra-truncate {  white-space: nowrap;  overflow: hidden;  text-overflow: ellipsis;}/*CSS for rendering \"milestone\" tags on criteria page*/.mrl_ms_level_locator{  position: absolute;  left: -21px;  top: -30px;}.mrl_ms_level{  position: absolute;  z-index: 100;}.mra_arrow_box{  display: block;  width: 40px;  text-align: center;  font-size: .8em;	position: relative;	background: #90a4ae;  border-radius: 3px;  padding: 5px 10px;}.mra_arrow_box_arrow_down {  position: absolute;  left: 10px;  width: 0;  height: 0;  border-left: 10px solid transparent;  border-right: 10px solid transparent;  border-top: 10px solid #90a4ae;}div.innerHeader{  margin: auto;  width: 950px;}div.info{  position:fixed;  top: 0;  right: 0;  width: 250px;  border-radius: 4px;  color: #FFFFFF;  background-color: #555555;  padding: 3px 10px;}div.enterdata{  margin: auto;  position: relative;  width: 950px;  padding: 25px;  background-color: #FFFFFF;}div.question{  margin: auto;  position: relative;  width: 950px;  padding: 25px;}div.questionButtons{  text-align: center;  width: 100%;}table.criteriaTable{  display: block;  overflow: scroll;}.centerAligned{  margin: auto;  width: 950px;  text-align: center;}.rightAligned {  float: right;}.leftAligned {  float: left;}.topAligned {  top: 0;  display:inline-block;}.buttonRounded{  background-color: #505F90;  border-radius: 4px;  border: none;  color: white;  font-size: 16px;  padding: 3px 10px;  margin: 5px;}.answerDropDown{  font-size: 16px;  display: inline-block;}.mraTable{  background-color: #FFFFFF;  text-align: left;}th{  font-size:14px;  background-color: #0E5492;  text-align: left;  color: #FFFFFF;  padding: 5px;}td{  padding: 5px;}td.blue{  background-color: #008CBA;}td.green{  background-color: #4CAF50;}td.red{  background-color: #f44336;}#blackLinks a:link{  color: black;}#blackLinks a:visited{  color: black;}.glyphicon {  font-size:20px;}";
